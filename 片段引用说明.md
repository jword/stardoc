# 片段引用说明

## 目录
   1. [简介](#1)
   2. [基本用法](#2)
      1. [静态片段](#2.1)
      2. [动态片段](#2.2)
   3. [片段引用说明](#3)

   
<h2 id="1">简介</h2>
   
   五星网站把片段分为静态片段和动态片段。
   静态片段是一段可以在不同地方重复使用的静态代码段，调取即可展示，无需绑定数据（如客服小插件、回到顶部标签、网站底部版权信息）。
   
   动态片段是选取不同数据与不同模板组合起来生成的一段包含动态数据调用的代码段。（如前十条新闻的数据列表、通用的左侧展示的企业联系方式信息、友情链接的动态调取）
   
   合理地使用片段可以轻松地满足您网站布局多样化和局部个性化的网站需求。   
   
<h2 id="2">基本用法</h2>
   
<h3 id="2.1">静态片段</h3>

      （1）创建静态片段（包括片段名称、片段分类、片段内容）
      （2）此时再到页面管理中创建页面的时候，便可以在左侧菜单中选取插入静态片段
   
   
<h3 id="2.2">动态片段</h3>

`动态片段生成说明`
      
      （1）创建动态片段动需要先选择数据源
      （2）然后选择相应的筛选条件、排序规则、数据调取规则和片段模板
      （3）生成动态片段后，在调用动态片段的时候，会自动向动态片段模板中注册一个名称为data的变量
      （4）data变量中包含动态片段所选择数据源的数据

`动态片段模板写法`

我们只需要根据动态片段所选择的数据源，在模板中输出对应模型内容即可

例如数据源我们选择了`新闻`，则可以参考 [新闻模型属性](数据模型.md#2.9)，输出新闻内容：

      {% if data is not empty %}
        {% for k,v in data %}
          {% if k is 0 %}
            <h3 class="title"><a href="#">{{ v['catename'] }}</a></h3>
            <p><a href="{{ v['linkurl'] }}">{{ v['title'] }}</a></p>
          {% else %}
            <p><a href="{{ v['linkurl'] }}">{{ v['title'] }}</a></p>
          {% endif %}
        {% endfor %}
      {% else %}
         <p>暂无新闻信息</p>
      {% endif %}


<h2 id="3">片段引用说明</h2>

在创建静态片段、新页面、产品详情页的时候可以方便地引用片段到当前编辑内容中

点击插入按钮后，右侧编辑框中会插入一条如下所示的片段代码：

`{# 片段开始:name #} {{ Materiel.id_591117915b6ee4039a452502 }} {# 片段结束：name #}`

片段代码参数说明：

      {# 片段开始:name #}：片段开始标记
      {# 片段结束：name #}：片段结束标记
      name：片段名称，标识引用的是哪个片段
      Materiel:片段数据输出开始标记  
      id：参数名称
       _：参数分隔符
      591117915b6ee4039a452502：片段的唯一标识

在前台展示的时候服务器会解析该行代码，输出片段本身的html模板内容和数据


## links
   * [目录](<index.md>)
   * 下一节: [系统插件使用说明](<系统插件使用说明.md>)
